var, let, const, 셋 다 선언 명령어이다.

<br/>
<br/>

## 변수 생성 과정 (3단계)

1. 선언 단계
    1. `var`, `let`, `const` 중 필요한 선언 키워드를 통해 이뤄진다.
    2. 실행 컨텍스트를 생성하고, 변수와 함수를 등록한다. (즉, 컴퓨터에 내가 쓴 변수와 함수의 존재를 알리는 역할을 하는 과정임)
2. 초기화 단계
    1. 선언 키워드를 통해 이름이 정해진 변수에 값을 저장하기 위해 **메모리 공간을 확보**하고, [var만 해당]암묵적으로 `undefined` 를 할당한다.
3. 할당 단계
    1. [let, const만 해당] 콜 스택 메모리 저장 영역에 메모리를 확보한다.
    2. 해당 메모리 주소값을 기존 `undefined` 가 저장되어 있는 변수에 교체하여 저장한다.
    
<br/>
<br/>

## 호이스팅?

변수의 선언과 초기화를 분리한 후, 선언만 코드의 최상단으로 옮기는 것. 

var로 선언한 변수의 경우, 호이스팅을 하면 `undefined` 로 변수를 초기화한다.

반면, let, const로 선언한 변수의 경우에는 호이스팅 시 변수를 초기화하지 않는다.

주의해야할 점이 있다면, 선언과 초기화를 함께 수행하는 var의 경우, 선언 코드까지 실행해야만 변수가 초기화된 상태가 된다.

<br/>
<br/>

## TDZ(Temporal Dead Zone)란?
일시적 사각지대.

호이스팅이 발생했을 때, **해당 변수 스코프의 시작 지점부터 변수가 선언되기 전까지의 영역**을 말한다.

TDZ에서 변수에 접근하면 에러가 발생한다.

즉, 선언 전에 변수에 접근할 수 없다!

```jsx
white; // ReferenceError: Cannot access 'white' before initialization
const white = '#FFFFFF';

white; // '#FFFFFF'
```

<br/>
<br/>

## 재선언, 재할당, 호이스팅 여부

셋 다 호이스팅이 일어난다. 

하지만 앞서 말했듯이, var는 선언을 하면 초기화가 함께 일어난다. 그래서 선언보다 호출이 먼저 일어나더라도 에러가 발생하지 않고  `undefined`다. 반면 let, const는 호이스팅이 일어나긴 하지만, 선언만 하고 초기화는 일어나지 않는다. 그래서 선언보다 변수 호출이 먼저 일어나면 메모리 공간이 확보되지 않은 상태이므로 `ReferenceError`가 발생한다. 

또한 var는 전역 혹은 함수 스코프를 가진다. 함수 외부에서 선언하면 전역 스코프가 되고, 함수 내에서 선언하면 함수 스코프가 되어 함수 내에서만 접근할 수 있다. 그래서 현재 스코프에서 호이스팅이 되기 때문에 TDZ에 영향을 받지 않는다. 반면 let, const는 블록 스코프를 가진다. 그래서 선언 및 초기화가 되기 전 줄까지 TDZ에 있게 되기 때문에 꼭 선언한 후에 사용해야만 한다.

|  | 호이스팅 | 재선언 | 재할당 | 스코프 |
| --- | --- | --- | --- | --- |
| var | O | O | O | 전역, 함수 스코프 |
| let | O | X | O | 블록 스코프 |
| const | O | X | X | 블록 스코프 |


<br/>
<br/>

## (+) 함수 스코프 vs 블록 스코프

### 스코프

- 함수가 실행될 때, 함수 내에서 변수에 대한 접근이 어떻게 되는지 나타내는 용어
- 스코프는 함수를 기반으로 한 용어다.

즉, **변수에 접근할 수 있는 범위**를 말한다.

### 컨텍스트

this 키워드 값이 무엇인지 나타내는 용어.

- 현재 실행 컨텍스트 내에서 어떤 객체를 참조하고 있는지를 의미한다.
- 컨텍스트는 객체를 기반으로 한 용어다.

<aside>
💡 **스코프**: 함수가 선언되면 무조건 스코프가 생성됨
**컨텍스트**: 함수가 속해있는 객체가 무엇인지를 의미함. (만약 함수가 글로벌 스코프에서 선언되면, 이때 컨텍스트는 global(window)임

</aside>

### 함수 스코프

- 자바스크립트는 기본적으로 함수 스코프를 따르는 언어임
- 함수 스코프를 따른다? → **새로운 함수가 생성될 때마다 새로운 스코프가 발생한다**는 의미
    - 함수 안에서 선언한 변수는, 해당 함수 안에서만 접근할 수 있음
- 함수 스코프 → 지역 스코프

### 블록 스코프

- 말 그대로 블록 `{}` 이 생성될 때마다 새로운 스코프가 형성되는 것을 말함
    - for, if, …
- 원래 자바스크립트는 함수 스코프를 따르지만, let, const 키워드가 등장하면서 블록 스코프를 형성하는 것도 가능해짐
